{% extends 'blog/base.html' %}

{% block content %}
    <div class="post">
        <div class="flex">
            <h2 class="author">{{ post.author }}</h2>
            {% if post.published_date %}
                <div class="date">
                    {{ post.published_date }}
                </div>
            {% else %}
                <form method="POST" action="{% url 'post_publish' pk=post.pk %}" class="post-form">{% csrf_token %}
                    <button type="submit" class="post btn btn-secondary" name="publish">Publish</button>
                </form>
            {% endif %}
        </div>
        <p class="text detail_text">{{ post.text|linebreaksbr }}</p>

        <div class="edit_button">
            {% if user.is_authenticated %}
                <a class="btn btn-default" href="{% url 'post_edit' pk=post.pk %}"><span class="glyphicon glyphicon-pencil"></span></a>
            {% endif %}
        </div>
        <form method="POST" action="{% url 'post_remove' pk=post.pk %}" class="post-form">{% csrf_token %}
            <button type="submit" class="post btn btn-danger" name="delete">
            Delete
            </button>
        </form>
    </div>
{% endblock %}